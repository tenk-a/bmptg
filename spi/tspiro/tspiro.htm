<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<title>TSPIRO Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=x-sjis">
<link rel="stylesheet" type="text/css" href="base.css">
<style><!--
body{line-height : 150%; color : #666666; backgroud-color : #f0f0f0; margin : 1em 3em 2em 2em;}
A:link    { color: #8888DD; }
A:visited { color: #333377; }
A:active  { color: #FF5555; }
h1{color : #888888;}
h2{color : #888888;}
h3{color : #222222;}
h4{color : #444444;}
h5{color : #444444;}
h6{color : #444444;}
h1,h2,h4,h5,h6{font-weight : bold; line-height : 300%;}
p,pre,blockquote,ul,ol,li,dd,dt,table,tbody,td,th{font-style : normal; font-variant : normal; font-weight : normal; font-size: 100%; line-height : 150%;}
dt{color : #444444; font-weight : bold; line-height : 280%; background-color : #EEEEEE;}
.writer{font-weight : lighter; font-style : italic; color : #cacaca;text-align : right;}
.upd{color: #bf8844; font-size:72%;}
.warn{color: #FF6644;}
--></style>
<body>
<h1>TSPIRO ver. 1.03</h1>
特殊なSusie-Plug-In 用レジストリオプション設定ツール
<div class="writer">writen by tenk*</div>
<p>
<h3>■使いかた</h3>
TSPIROを立ちあげ、必要ならば下記項目を設定しなおします。
その状態で（tspiro専用のSPIを設定した）Susie対応の画像表示ツールで
目的の画像を表示してください。<br>
　設定を変更した場合は、次の画像がロード(SPIが使用）
されたときに反映されます
（現在表示中の絵にリアルタイムに反映することは出来ません）。
<p>
<TABLE width="100%" cellpadding="8" BORDER=1 CELLSPACING=0>
<colgroup width="20%" valign="top" align="left">
<colgroup width="20%" valign="top" align="left">
<colgroup valign="top" align="left">
<tbody>
<tr>
<tr><th>?	<td>　		<td>このヘルプを表示.
<tr><th>全無効	<td>on/off	<td>onだと 他の設定を、専用SPIが反映しないように指示
<tr><th>終後有効<td>on/off	<td>onだと TSPIRO.exe終了後も TSPIRO対応spiはレジストリの内容を参照するようになる.
<tr><th>dib32(clut)<td>on/off   <td>α付clut画を、32ビット色DIBとして出力するように設定. (.spiを呼び出すアプリ側がdib32に対応していること)
<tr><th>dib32(多色)<td>on/off   <td>α付の多色画を、32ビット色DIBとして出力するように設定. (.spiを呼び出すアプリ側がdib32に対応していること)
<tr><th>dflt	<td>　		<td>設定をデフォルト状態にする
<tr><th>輝度	<td>0〜1000〜	<td>1000分率でトーンを設定. 1000で標準の明るさ.計算はR,G,B各値ごとに行う単純なもの。
<tr><th>ClutOfs	<td>0〜		<td>
	Clut付画像(2〜256色画像など)でパレットの開始位置をずらす指定。
	16色*16本Clutの16色画像などを想定。
<tr><th>透明色	<td>無し<br>有り<br>clut別<br><br>(RRGGBB)<br>(clut番号)<br>	<td>
	<strong>無し</strong>はすべて無透明扱い。<br>
	<strong>有り</strong>なら、その横の入力ボックスにかかれた値
	(RRGGBB:16進数6桁のRGB表記)を透明色として扱う。
	なお、処理上、透明色はα=0,以外はα=255の画像として扱う。<br>
	<strong>CLUT別</strong>は有りと同じで、ただしCLUT付画像に対しては
	直接の色でなく、CLUT番号（その横の入力ボックスに書かれた値0〜）で
	 CLUT 番号で設定する。
<tr><th>α演算	<td>無視<br>ブレンド<br>加算<br>減算	<td>
	<strong>無視</strong>なら、α付画像であってもαを無視する。<br>
	<strong>ブレンド</strong>なら、描画画像 α/255 : 背景 (255-α)/255 の
		割合でブレンドして表示。<br>
	<strong>加算</strong>は飽和加算を行う。<br>
	<strong>減算</strong>は飽和減算を行う。<br>
<tr><th>α反転	<td>on/off	<td>onだと α付画像のα値を反転(255-α)して入力する。
<tr><th>α128	<td>on/off	<td>onだと α付画像のα値を255でなく128が不透明となるように調整する。
<tr><th>α0不透明 <td>on/off	<td>onだと α=0のピクセルをα=255として扱う。
<tr>
<tr><th>BG/Grid	<td>on/off	<td>onだと BG/Gridに関する設定を専用SPIが反映しないように指示
<tr><th>WH	<td>1〜1024	<td>BGマス/グリッドの間隔。横幅と縦幅
<tr><th>BG色1	<td>RRGGBB	<td>透明色で抜かれた奥にある背景桝目のマスの色その１．
				色指定は 16進数 6桁で RGB値を指定。
<tr><th>BG色2	<td>RRGGBB	<td>透明色で抜かれた奥にある背景桝目のマスの色その２．
<tr><th>grid線	<td>on/off<br><br>(RRGGBB)
	<td>on なら横の入力ボックスの値(RRGGBB)で線を描画する。
<tr><th>ex	<td>on/off	<td>
	現在レジストリに書き込まれている色数やサイズ、clutを表示する。
	tspiro専用spiしか書き込まないので表示ツールが表示中のCGの情報とは
	限らない、と、いうことを忘れないこと。
</tbody>
</table>

<p><br><p>
<h3>■使い道、しくみ、制限</h3>
<p>
　ゲームなどを作成しているとき画像のCLUTや透明色（やα値）
の具合を確認したい場合が多々あるのですが、
そのような目的のためにいちいち専用ツールやグラフィックエディタ
を立ち上げるのはおっくーなのでした。
<p>
で、日ごろ使い慣れた Susie プラグイン対応の画像表示ツール
でも透明色(α)の確認できるようにするために、
その対策を施した変換を行う専用の Susieプラグイン(SPI)を
作成し、このプログラムでそれをコントロールしよーって
シロモノです。<br>
（なので、専用のSusieプラグイン以外のプラグインの
画像について抜き色確認などができるわけでは、ないです）
<p>
　コントロール方法は、レジストリ経由です。<br>
設定ツール TSPIRO でオプション要素を設定しておいて、
専用のSusieプラグインはレジストリがあればその内容をみて
変換を施して(無ければ普通に）、
呼び出し元へ画像を渡すってことをしているだけです。
（すべて、24ビット色画像に変換しますので、元画像の情報
については呼び出し元ツールではわからなくなります）。
<p>
　通常、TSPIROは終了時に"各種変換をしない"という設定を
して終了するので、TSPIRO起動中でしか
レジストリ内容は反映されないようになっています。
（"終後有効"をチェックすると反映されます。あと、
強制終了しちゃったりマシンがハングったりした場合もありえます）
<p>
　基本的に、そこそこお手軽に使えたらいいや、で、あまり
厳密なタイミングとかマルチタスクとかは
考慮していないです（というか無視な）ので、
Susieプラグインが同時に実行されるような場合、
Susieプラグインからの画像情報はそのうちの一つしか
受け取ることができません（TSPIRO自体は多重起動不可です）。

<p><br><p>
<h3>■配布条件など</h3>
<p>
  フリーソフトです。ネット等での非営利配布ならば作者に連絡不要
で再配布していただいてかまいません。その他の場合（雑誌紹介とか
ディスク配布で同梱したいなど）事前に相談ください、ってことに
します。
<p>
  ソースについては、直接の改造物ならば名前やバージョンナンバー等で
原作者とは別ものと見分けられるようにし、個々のルーチンに関しては、
改造/修正個所やその他で特許や著作権等でもって第三者が自由に
プログラミングするのを邪魔せず
（使用料払え、とか、その方法/アルゴリズムかってに使うな、とか、
商利用だめ、とか<!-- ソース絶対公開しろ、とか-->）、
最低限そのルーチンが原作者と同じ配布利用条件を継承するかぎり、
(仕事や商品であろうと)改造するなり流用するなり自由で連絡不要ですし、
流用の場合マニュアル等に明記する必要はないです。
　ただソース公開の場合はソースの配布条件をどこかに書いてください。
<p>
  配布ファイル中の実行ファイルは Visual C++(2003) で
コンパイルしてあります。
  当然のことながら無保証です。作者はなんら義務を負いません。
利用者の責任で用いてください。
<p>
　でも、バグがありましたら、連絡くださると助かります。
現状作りたてで結構バグがあるようなので……
（取れるとは限らないですが……）
<p>

<p><br><p>
<h3>■専用 SPI について</h3>
<p>
　とりあえずTSPIROの配布圧縮ファイルには
 tga,png プラグイン等を同梱しています。
　それについての説明は、iftga.txt のほうを確認してください。

<p><br><p>
<h3>■おわりに</h3>
<p>
　もともとは専用の画像ローダを作ろうかとも思っていたのですが、
すべてを作るのは結構手間ってのと、なにより
日ごろ使い慣れたファイラ(WinFD+WfdTool)やビュアー(liner)で
連携できないと不便なんでこんな寄生ソフトとなりました。<br>
　まだ、作りさしで、もう少し機能を足す予定
（だけれど、当初予定の 8割がたは済んだんでのんびりペースかな）。

<!--
とりあえず、
<ul>
<li>◎パネルに入れていないオプション要素を設定可能に
<li>○背景合成
<li>△bmpプラグイン
<li>△pngプラグイン
</ul>
<p>
などを考えてますが、
◎は作らないと不味いので作るだろう、
○はそのうち、
△については時間があって気が向けば
くらいです（ちと時間がとりにくい状況なんで）。
-->
<p>
　 winプログラムに慣れてないもんで、その練習の小物って状況でも
あります。Winプログラムとしていろいろ不備あるし
（ダイアログの再描画とかT T)、
正直、色指定とかユーザインターフェースは余りよいとは言えないんで^^;
気力と時間があればよくはしたいけれど……。
<p>


<p><br><p>
<h3>■履歴</h3>

<ul>
<li>2000-10-07　　v0.10 とりあえず動く
<li>2000-10-08〜　　　　いろいろバグ取り＆オプション要素追加
<li>2000-10-15　　v0.50 ヘルプを付ける（公開版）
<li>2000-10-16　　v0.60 clut、画像表示機能をつけてみる
<li>2000-10-17　　v0.61 256色に関する扱いの不備の改善
<li>2001-05-05　　v1.00 <!-- 簡易のbmpプラグインができたのと、-->
ぷかくにアイコン用イラストを描いてもらったので v1.00 にしてしまう。
(が、アップロードし忘れていた模様on_)
<li>2004          v1.01 (非公開ツール向けのボタンを追加)
<li>2007          v1.02 "終後有効"ボタン追加. dib32ボタン追加.
<li>2007          v1.03 WindowsVista でclut窓のステータスがチラつく件を修正.
</ul>

<hr>
<address>ｔｅｎｋａ＠６８０９．ｎｅｔ</address>
<a href="http://www.6809.net/tenk/">http://www.6809.net/tenk/</a>
<p>
</body>
<html>
